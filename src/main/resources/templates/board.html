<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>Board</title>
	<link rel="stylesheet" href="css/reset.css">
	<link rel="stylesheet" href="css/board.css">
	<link rel="stylesheet" href="css/menu_doc.css">
	<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>

	<link href="https://fonts.googleapis.com/css?family=Lato:300,400,400italic,700,700italic,900,900italic" rel="stylesheet" />
	<link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
	<!-- link bootstrap -->
	<link href="css/web/bootstrap/css/bootstrap.min.css" rel="stylesheet">

	<!-- Bootstrap core JavaScript -->
	<script src="css/web/jquery/jquery.min.js"></script>
	<script src="css/web/bootstrap/js/bootstrap.bundle.min.js"></script>

	<script type="text/javascript">

		// menu dọc khi click vào button trên thanh header 
		$(document).ready(function(){
			$(".active1").click(function(){
				$(this).toggleClass("active");
				$(".dropdown-menu1").toggleClass("active");
			})
		});
		// ẩn hiện thẻ trong danh sách thêm card	
		//mảng arr chứa 100 class khác nhằm cho việc ẩn hiện phần tử hidecardI,showcardI 	(đủ dùng vì bảng ko đến 100 list)
		//ko cần đụng gì ở đây
		var arr = new Array (100);
		for(var i =0;i<100;i++){
			arr[i]=i;
		}
		$(document).ready(function(){

			$.each(arr,function(index){
				$(".hidecard"+arr[index]).click(function(){
					$(".hidecard"+arr[index]).addClass("hide");
					$(".showcard"+arr[index]).removeClass("hide");

				});
			});

		});
		$(document).ready(function(){
			$.each(arr,function(index){
				$(".showcard"+arr[index]+" i").click(function(){
					$(".hidecard"+arr[index]).removeClass("hide");
					$(".showcard"+arr[index]).addClass("hide");

				});
			});

		});
		//ẩn hiện thẻ trong danh sách thêm list
		function on4() {
			document.getElementById("hide_description").style.display = "none";
			document.getElementById("show_description").style.display = "block";
		}

		function off4() {
			document.getElementById("hide_description").style.display = "block";
			document.getElementById("show_description").style.display = "none";
		}
		//ẩn hiện thẻ trong danh sách thêm checklist công việc
		function on3() {
			document.getElementById("hidechecklist").style.display = "none";
			document.getElementById("showchecklist").style.display = "block";
		}

		function off3() {
			document.getElementById("hidechecklist").style.display = "block";
			document.getElementById("showchecklist").style.display = "none";
		}
		//ẩn hiện thẻ trong danh sách thêm list
		function on2() {
			document.getElementById("hidelist").style.display = "none";
			document.getElementById("showlist").style.display = "block";
		}

		function off2() {
			document.getElementById("hidelist").style.display = "block";
			document.getElementById("showlist").style.display = "none";
		}
		// ẩn hiện overlay panel nội dung thẻ
		function on1() {
			document.getElementById("overlay1").style.display = "block";
		}

		function off1() {
			document.getElementById("overlay1").style.display = "none";
		}
		// ẩn hiện overlay panel tạo bảng
		function on() {
			document.getElementById("overlay").style.display = "block";
		}

		function off() {
			document.getElementById("overlay").style.display = "none";
		}
		//chuyển màu cho backgroud
		function xanhduong() {
			document.getElementById("color_background").style.background = "#17a2b8";
		}

		function vang() {
			document.getElementById("color_background").style.background = "#ecec42";
		}
		function xanhla() {
			document.getElementById("color_background").style.background = "#59a759";
		}
	</script>
</head>
<style type="text/css">
	.hide{
		display: none;
	}
</style>

<body style="    background-color: #0079bf;">
	<!-- header -->
	<header>
		<div th:replace="/header :: header"/>
	</header>
	<!-- End of header -->


	<!-- Board info bar -->
	<section class="board-info-bar">

		<div class="board-controls">

			<button class="board-title btn1">
				<h2>Group 10-CN web </h2>
			</button>

			<button class="star-btn1 btn1" aria-label="Star Board">
				<i class="far fa-star" aria-hidden="true"></i>
			</button>

			<button class="personal-btn1 btn1">Personal</button>

			<button class="private-btn1 btn1"><i class="fas fa-briefcase private-btn1-icon" aria-hidden="true"></i>Private</button>

		</div>

		<!-- <button class="menu-btn1 btn1"><i class="fas fa-ellipsis-h menu-btn1-icon" aria-hidden="true"></i>Show Menu</button> -->

	</section>
	<!-- End of board info bar -->

	<!-- Lists container -->
	<section class="lists-container" >

		<!-- thẻ thứ 1 -->
		<div class="list" th:each="rlist : ${ResList}">

			<h3 class="list-title" th:text="${rlist.NAME}"></h3>

			<ul class="list-items" th:each="tasklist : ${taskList}" style="padding: 0 8px; margin-bottom: 0">
				<li th:each="i : ${Li}" th:if="${(i < tasklist.size()) && (tasklist.get(i).getLID() == rlist.getID())}" th:utext="${tasklist.get(i).NAME}"   onclick="on1()" style="margin: 5px; line-height: 20px"></li>
			</ul>

			<!-- ông chỉnh sửa làm sao để mỗi khi tạo list mới thì class showcard i,hidecard i tự tăng là ok  -->

			<div  th:class="'hide showcard'+${rlist.getID()}"> <!-- showcard+i ở đây, là showcard+1  -->
				<form th:action="@{/addTask}" th:object="${Task}" method="post">
					<input type="text" th:field="*{NAME}" placeholder="Nhập tiêu đề cho thẻ này..." class="form-control">
					<input type="hidden" name="BID" id="BID2" th:value="${param.BID}">
					<input type="hidden" name="USERNAME" id="USERNAME2" th:value="${#request.userPrincipal.getName()}">
					<input type="hidden" name="LID" id="LID" th:value="${rlist.getID()}">
					<div style="display: flex;" >
						<button class="btn btn-success  btn-sm" >Thêm thẻ</button>
						<!-- <button class="btn btn-danger btn-sm" value="hide"><i class="fas fa-times"></i></button> -->
						<i class="fas fa-window-close text-danger" style="font-size: 31px; cursor: pointer;" ></i>
					</div>
				</form>

			</div>
			<button th:class="'add-card-btn1 btn1 hidecard'+${rlist.getID()}" style="margin-top: 15px"><!--hidecard+i ở đây, là hidecard+1  -->
			Add a card</button>
		</div>
		<!-- hết thẻ thứ 1 -->


		<!-- thêm list	 -->
		<button class="add-list-btn1 btn1" id="hidelist" onclick="on2()">Add a list</button>
		<div class="list" style="display: none;" id="showlist">
			<!-- form nhập liệu thêm list ở đây -->
			<form th:action="@{/addList}" method="post" th:object="${TList}">
				<input type="text" th:field="*{NAME}" placeholder="Nhập tiêu đề cho thẻ này..." class="form-control">
				<input type="hidden" name="USERNAME" id="USERNAME" th:value="${#request.userPrincipal.getName()}">
				<input type="hidden" name="BID" id="BID" th:value="${param.BID}">
				<div style="display: flex;" >
					<button class="btn btn-success  btn-sm" >Thêm thẻ</button>
					<!-- <button class="btn btn-danger btn-sm" value="hide"><i class="fas fa-times"></i></button> -->
					<i class="fas fa-window-close text-danger" style="font-size: 31px; cursor: pointer;"  onclick="off2()"></i>
				</div>
			</form>

		</div>
	</section>
	<!-- End of lists container -->

	<!-- OverLay 1 -->
<!-- <div id="overlay1">
	<form class="form-group">
		<h3>Nội Dung Thẻ </h3>
		<textarea id="comment"></textarea>
		<div class="row" style="margin-left: 67%" >
			<button class="btn btn-success btn-sm col-lg-1" >Lưu </button>
			<i class="fas fa-window-close text-danger" style="font-size: 31px;" onclick="off1()"></i></button>
		</div>
	</form>

</div> -->
<div id="overlay1">
	<div class="btn-light rounded " style="width: 500px; height: 550px; margin: 30px  auto; margin-bottom: 0px;">
		<div class="ml-4 mb-4 pt-4">
			<i class="fas fa-id-card"></i> 
			<input type="text" name="" value="tên thẻ 1 " style="border: none;">
			<p style="font-size: 13px;">trong danh sách <span style="font-weight: 700">Danh sách 1</span></p>
		</div>
		<div class="ml-4 mb-4">
			<p><i class="fas fa-bars"></i><span style="font-weight: 700"> Mô tả</span></p>
			<p class="text-info" id="hide_description" onclick="on4()">nội dung mô tả ở đây(ông đổ nội dung từ database ra thẻ p này luôn !)</p>
			<!-- ở trong trello thì nó đổ data nội dung mô tả ra thẻ p , khi click thẻ p sẽ ra textarea để chỉnh sửa nội dung mô tả này -->
			<div style="display: none;" id="show_description">
				<form>
				<textarea style=" width: 450px; height: 100px;	border: 1px solid;"></textarea>
				<button class="btn btn-success  btn-sm" >Chỉnh sửa</button>
				<i class="fas fa-window-close text-danger" style="font-size: 23px; cursor: pointer;"  onclick="off4()"></i>			
				</form>
				
			</div>
		</div>
		<div class="ml-4 mb-4">
			<p><i class="far fa-calendar-check"></i><span style="font-weight: 700"> Việc cần làm</span></p>
			<input type="checkbox" name="vehicle1" value="Bike">
			<label for="vehicle1"> I have a bike</label><br>
			<input type="checkbox" name="vehicle1" value="Car">
			<label for="vehicle2"> I have a car</label><br>
			<input type="checkbox" name="vehicle3" value="Boat">
			<label for="vehicle3"> I have a boat</label>
			<p class="text-info" id="hidechecklist" onclick="on3()">Thêm 1 công việc</p>
			<div class="list" style="display: none;" id="showchecklist">
				<!-- form nhập liệu thêm checklist ở đây -->
				<form th:action="@{/addList}" method="post" th:object="${TList}">
					<input type="text" placeholder="Nhập tiêu đề cho công việc này..." style="width: 450px;">
					<div style="display: flex; margin-top: 5px; " >
						<button class="btn btn-success  btn-sm" >Thêm</button>
						<!-- <button class="btn btn-danger btn-sm" value="hide"><i class="fas fa-times"></i></button> -->
						<i class="fas fa-window-close text-danger" style="margin-left: 5px; font-size: 23px; cursor: pointer;"  onclick="off3()"></i>
					</div>
				</form>

			</div>
		</div>
	</div>
	<div class="row" style="margin-left: 66%" >
		<!-- <button class="btn btn-success btn-sm col-lg-1" >Lưu </button> -->
		<i class="fas fa-window-close text-danger" style="font-size: 31px;" onclick="off1()"></i></button>
	</div>
</div>

</body>
</html>